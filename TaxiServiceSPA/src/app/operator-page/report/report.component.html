<mat-card class="root-container">
  <mat-card-content class="root-content">
    <div fxLayout="row" class="first-row">
      <mat-card class="productive-drivers">
        <mat-card-header>
          <mat-card-subtitle>
            Топ 10 продуктивних водіїв
          </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <div class="mat-elevation-z8 table-container">
            <table mat-table [dataSource]="drivers">
              <ng-container matColumnDef="Id">
                <th mat-header-cell *matHeaderCellDef>Id</th>
                <td mat-cell *matCellDef="let driver">{{ driver.driverId }}</td>
              </ng-container>

              <ng-container matColumnDef="Department">
                <th mat-header-cell *matHeaderCellDef>Department</th>
                <td mat-cell *matCellDef="let driver">{{ driver.city }}</td>
              </ng-container>

              <ng-container matColumnDef="Last Name">
                <th mat-header-cell *matHeaderCellDef>Last Name</th>
                <td mat-cell *matCellDef="let driver">{{ driver.lastName }}</td>
              </ng-container>

              <ng-container matColumnDef="First Name">
                <th mat-header-cell *matHeaderCellDef>First Name</th>
                <td mat-cell *matCellDef="let driver">{{ driver.firstName }}</td>
              </ng-container>

              <ng-container matColumnDef="Middle Name">
                <th mat-header-cell *matHeaderCellDef>Middle Name</th>
                <td mat-cell *matCellDef="let driver">{{ driver.middleName }}</td>
              </ng-container>

              <ng-container matColumnDef="Date of Birth">
                <th mat-header-cell *matHeaderCellDef>Date of Birth</th>
                <td mat-cell *matCellDef="let driver">
                  {{ getDate(driver.dateOfBirth) }}
                </td>
              </ng-container>

              <ng-container matColumnDef="Salary">
                <th mat-header-cell *matHeaderCellDef>Salary</th>
                <td mat-cell *matCellDef="let driver">{{ driver.salary }}</td>
              </ng-container>

              <ng-container matColumnDef="Shift">
                <th mat-header-cell *matHeaderCellDef>Shift</th>
                <td mat-cell *matCellDef="let driver">
                  <span *ngIf="getTime(driver.beginning) === '08:00:00'">
                    <mat-icon>wb_sunny</mat-icon>
                  </span>
                  <span *ngIf="getTime(driver.beginning) === '20:00:00'">
                    <mat-icon>brightness_3</mat-icon>
                  </span>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="driverDisplayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: driverDisplayedColumns"></tr>
            </table>
          </div>
        </mat-card-content>
      </mat-card>
      <mat-card class="department-popularity">
        <mat-card-header>
          <mat-card-subtitle>
            Статистика відділень по кількості замовлень
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content >
          <div fxLayout="row" fxLayoutAlign="center center" >
            <div *ngFor="let department of departments" fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="center center" class="department-1">
              <div class="department-name">
                {{department.departmentId}} - {{department.city}} 
              </div>
              <div class="number">
                Замовлень: {{department.number}}              
              </div>
              <div class="value" fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="center center">
                <mat-progress-spinner [diameter]="60" [value]="countPercent(department)"></mat-progress-spinner>
                <span>{{countPercent(department)}} %</span>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </mat-card-content>
</mat-card>